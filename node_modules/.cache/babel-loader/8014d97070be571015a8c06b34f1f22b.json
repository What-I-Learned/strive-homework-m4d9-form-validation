{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\justb\\\\Documents\\\\full_stack_developement\\\\Strive\\\\Homework\\\\strive-homework-m4d2-bookstore\\\\src\\\\components\\\\BookComments.jsx\";\nimport { Component } from \"react\";\nimport { Alert, ListGroup, Spinner } from \"react-bootstrap\";\nimport SingleComment from \"./SingleComment\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass BookComments extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      comments: [],\n      isLoading: true\n    };\n\n    this.componentDidMount = async () => {\n      try {\n        let response = await fetch(`https://striveschool-api.herokuapp.com/api/comments/${this.props.book.asin}`, {\n          headers: {\n            Authorization: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTFjZjk1ZTJkNTI2MjAwMTViNmRjOWQiLCJpYXQiOjE2Mjk5ODUyMzksImV4cCI6MTYzMTE5NDgzOX0.mS3Qwvrlsn7oJIK8hVVuKRbXkVR6kVchtAJ7C4UySkI\"\n          }\n        });\n\n        if (response.ok) {\n          let commentsData = await response.json();\n          this.setState({\n            comments: commentsData,\n            isLoading: false\n          });\n          console.log(this.state.commentsData);\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), this.state.isLoading && /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"success\",\n        className: \"mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this), this.state.comments.length == 0 && !this.state.isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"No comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n        children: this.state.comments.map(comment => /*#__PURE__*/_jsxDEV(SingleComment, {\n          singleComment: comment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default BookComments;","map":{"version":3,"sources":["C:/Users/justb/Documents/full_stack_developement/Strive/Homework/strive-homework-m4d2-bookstore/src/components/BookComments.jsx"],"names":["Component","Alert","ListGroup","Spinner","SingleComment","BookComments","state","comments","isLoading","componentDidMount","response","fetch","props","book","asin","headers","Authorization","ok","commentsData","json","setState","console","log","err","render","length","map","comment"],"mappings":";AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,OAA3B,QAA0C,iBAA1C;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;;AAEA,MAAMC,YAAN,SAA2BL,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACnCM,KADmC,GAC3B;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,SAAS,EAAE;AAFL,KAD2B;;AAAA,SAMnCC,iBANmC,GAMf,YAAY;AAC9B,UAAI;AACF,YAAIC,QAAQ,GAAG,MAAMC,KAAK,CACvB,uDAAsD,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,IAAK,EADpD,EAExB;AACEC,UAAAA,OAAO,EAAE;AACPC,YAAAA,aAAa,EACX;AAFK;AADX,SAFwB,CAA1B;;AASA,YAAIN,QAAQ,CAACO,EAAb,EAAiB;AACf,cAAIC,YAAY,GAAG,MAAMR,QAAQ,CAACS,IAAT,EAAzB;AACA,eAAKC,QAAL,CAAc;AACZb,YAAAA,QAAQ,EAAEW,YADE;AAEZV,YAAAA,SAAS,EAAE;AAFC,WAAd;AAIAa,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKhB,KAAL,CAAWY,YAAvB;AACD;AACF,OAlBD,CAkBE,OAAOK,GAAP,EAAY;AACZF,QAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACD;AACF,KA5BkC;AAAA;;AA8BnCC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEG,KAAKlB,KAAL,CAAWE,SAAX,iBACC,QAAC,OAAD;AAAS,QAAA,SAAS,EAAC,QAAnB;AAA4B,QAAA,OAAO,EAAC,SAApC;AAA8C,QAAA,SAAS,EAAC;AAAxD;AAAA;AAAA;AAAA;AAAA,cAHJ,EAKG,KAAKF,KAAL,CAAWC,QAAX,CAAoBkB,MAApB,IAA8B,CAA9B,IAAmC,CAAC,KAAKnB,KAAL,CAAWE,SAA/C,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADD,gBAGC,QAAC,SAAD;AAAA,kBACG,KAAKF,KAAL,CAAWC,QAAX,CAAoBmB,GAApB,CAAyBC,OAAD,iBACvB,QAAC,aAAD;AAAe,UAAA,aAAa,EAAEA;AAA9B;AAAA;AAAA;AAAA;AAAA,gBADD;AADH;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAiBD;;AAhDkC;;AAmDrC,eAAetB,YAAf","sourcesContent":["import { Component } from \"react\";\r\nimport { Alert, ListGroup, Spinner } from \"react-bootstrap\";\r\nimport SingleComment from \"./SingleComment\";\r\n\r\nclass BookComments extends Component {\r\n  state = {\r\n    comments: [],\r\n    isLoading: true,\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    try {\r\n      let response = await fetch(\r\n        `https://striveschool-api.herokuapp.com/api/comments/${this.props.book.asin}`,\r\n        {\r\n          headers: {\r\n            Authorization:\r\n              \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTFjZjk1ZTJkNTI2MjAwMTViNmRjOWQiLCJpYXQiOjE2Mjk5ODUyMzksImV4cCI6MTYzMTE5NDgzOX0.mS3Qwvrlsn7oJIK8hVVuKRbXkVR6kVchtAJ7C4UySkI\",\r\n          },\r\n        }\r\n      );\r\n      if (response.ok) {\r\n        let commentsData = await response.json();\r\n        this.setState({\r\n          comments: commentsData,\r\n          isLoading: false,\r\n        });\r\n        console.log(this.state.commentsData);\r\n      }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"text-center\">\r\n        <h2>Comments</h2>\r\n        {this.state.isLoading && (\r\n          <Spinner animation=\"border\" variant=\"success\" className=\"mx-auto\" />\r\n        )}\r\n        {this.state.comments.length == 0 && !this.state.isLoading ? (\r\n          <div>No comments</div>\r\n        ) : (\r\n          <ListGroup>\r\n            {this.state.comments.map((comment) => (\r\n              <SingleComment singleComment={comment} />\r\n            ))}\r\n          </ListGroup>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BookComments;\r\n"]},"metadata":{},"sourceType":"module"}